========================
TCPSyslogSourceConnector
========================

Connector is used to receive syslog messages over TCP.


.. IMPORTANT::
    This connector listens on a network port. Running more than one task or running in distributed mode can cause some undesired effects if another task already has the port open. It is recommended that you run this connector in :term:`Standalone Mode`.



-------------
Configuration
-------------

+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| kafka.topic                        | :ref:`configuration-string`  | High       |               |                                  | Kafka topic to write syslog data to.                                                                                          |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.host                        | :ref:`configuration-string`  | High       |               |                                  | Hostname to listen on.                                                                                                        |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.port                        | :ref:`configuration-int`     | High       | 5514          | ValidPort{start=1000, end=65535} | Port to listen on.                                                                                                            |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| backoff.ms                         | :ref:`configuration-int`     | Low        | 100           | [50,...]                         | Number of milliseconds to sleep when no data is returned.                                                                     |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| batch.size                         | :ref:`configuration-int`     | Low        | 5000          |                                  | The number of records to pull off of the queue at once.                                                                       |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.backlog                     | :ref:`configuration-int`     | Low        | 50            | [1,...]                          | Number of connections to allow in backlog.                                                                                    |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.charset                     | :ref:`configuration-string`  | Low        | UTF-8         |                                  | Character set for syslog messages.                                                                                            |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.max.active.sockets          | :ref:`configuration-int`     | Low        | 0             |                                  | Maximum active sockets                                                                                                        |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.max.active.sockets.behavior | :ref:`configuration-int`     | Low        | 0             |                                  | Maximum active sockets                                                                                                        |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.reverse.dns.cache.ms        | :ref:`configuration-long`    | Low        | 60000         |                                  | The amount of time to cache the reverse lookup values from DNS.                                                               |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.reverse.dns.remote.ip       | :ref:`configuration-boolean` | Low        | false         |                                  | Flag to determine if the ip address of the remote sender should be resolved. If set to false the hostname value will be null. |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.shutdown.wait               | :ref:`configuration-long`    | Low        | 500           |                                  | The amount of time in milliseconds to wait for messages when shutting down the server.                                        |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.structured.data             | :ref:`configuration-boolean` | Low        | false         |                                  | Flag to determine if structured data should be used.                                                                          |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| syslog.timeout                     | :ref:`configuration-int`     | Low        | 0             |                                  | Number of milliseconds before a timing out the connection.                                                                    |
+------------------------------------+------------------------------+------------+---------------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------+

^^^^^^^^^^^^^^^^^^^^^^
Property based example
^^^^^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `standalone mode
<http://docs.confluent.io/current/connect/concepts.html#standalone-workers>`_.

.. code-block:: properties

    name=connector1
    tasks.max=1
    connector.class=com.github.jcustenborder.kafka.connect.syslog.TCPSyslogSourceConnector
    # The following values must be configured.
    kafka.topic=



^^^^^^^^^^^^^^^^^^
Rest based example
^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `distributed mode
<http://docs.confluent.io/current/connect/concepts.html#distributed-workers>`_.
Write the following json to `connector.json` and use the command below to post the configuration to the distributed connect workers.

.. code-block:: json

    {
        "name": "connector1",
        "config": {
            "connector.class": "com.github.jcustenborder.kafka.connect.syslog.TCPSyslogSourceConnector",
            "kafka.topic":"",
        }
    }

Use curl to post the configuration to one of the Kafka Connect Workers. Change `http://localhost:8083/` the the endpoint of
one of your Kafka Connect workers.

.. code-block:: bash

    curl -s -X POST -H 'Content-Type: application/json' --data @connector.json http://localhost:8083/connectors



