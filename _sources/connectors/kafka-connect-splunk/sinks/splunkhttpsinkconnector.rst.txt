=======================
SplunkHttpSinkConnector
=======================

The Sink Connector will transform data from a Kafka topic into a batch of json messages that will be written via HTTP to a configured `Splunk Http Event Collector <http://dev.splunk.com/view/event-collector/SP-CAAAE6M>`_.



-------------
Configuration
-------------

+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.auth.token               | :ref:`configuration-password` | High       |               |           | The authorization token to use when writing data to splunk.                                                                             |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.remote.host              | :ref:`configuration-string`   | High       |               |           | The hostname of the remote splunk host to write data do.                                                                                |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.ssl.enabled              | :ref:`configuration-boolean`  | High       | true          |           | Flag to determine if the connection to splunk should be over ssl.                                                                       |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.ssl.trust.store.password | :ref:`configuration-password` | High       | [hidden]      |           | Password for the trust store.                                                                                                           |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.ssl.trust.store.path     | :ref:`configuration-string`   | High       |               |           | Path on the local disk to the certificate trust store.                                                                                  |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.remote.port              | :ref:`configuration-int`      | Medium     | 8088          |           | Port on the remote splunk server to write to.                                                                                           |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.ssl.validate.certs       | :ref:`configuration-boolean`  | Medium     | true          |           | Flag to determine if ssl connections should validate the certificateof the remote host.                                                 |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.connect.timeout.ms       | :ref:`configuration-int`      | Low        | 20000         |           | The maximum amount of time for a connection to be established.                                                                          |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.curl.logging.enabled     | :ref:`configuration-boolean`  | Low        | false         |           | Flag to determine if requests to Splunk should be logged in curl form. This will output a curl command to replicate the call to Splunk. |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+
| splunk.read.timeout.ms          | :ref:`configuration-int`      | Low        | 30000         |           | Sets the timeout in milliseconds to read data from an established connection or 0 for an infinite timeout.                              |
+---------------------------------+-------------------------------+------------+---------------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------+

^^^^^^^^^^^^^^^^^^^^^^
Property based example
^^^^^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `standalone mode
<http://docs.confluent.io/current/connect/concepts.html#standalone-workers>`_.

.. code-block:: properties

    name=connector1
    tasks.max=1
    connector.class=com.github.jcustenborder.kafka.connect.splunk.SplunkHttpSinkConnector
    # The following values must be configured.
    splunk.auth.token=
    splunk.remote.host=



^^^^^^^^^^^^^^^^^^
Rest based example
^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `distributed mode
<http://docs.confluent.io/current/connect/concepts.html#distributed-workers>`_.
Write the following json to `connector.json` and use the command below to post the configuration to the distributed connect workers.

.. code-block:: json

    {
        "name": "connector1",
        "config": {
            "connector.class": "com.github.jcustenborder.kafka.connect.splunk.SplunkHttpSinkConnector",
            "splunk.auth.token":"",
            "splunk.remote.host":"",
        }
    }

Use curl to post the configuration to one of the Kafka Connect Workers. Change `http://localhost:8083/` the the endpoint of
one of your Kafka Connect workers.

.. code-block:: bash

    curl -s -X POST -H 'Content-Type: application/json' --data @connector.json http://localhost:8083/connectors



