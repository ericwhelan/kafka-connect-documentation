=====================
HttpSolrSinkConnector
=====================

This connector is used to connect to write directly to a Solr core.



-------------
Configuration
-------------

+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| solr.url                   | :ref:`configuration-string`   | High       |               |                    | Url to connect to solr with.                                                                                                                                                                                                                                                           |
+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| solr.password              | :ref:`configuration-password` | High       | [hidden]      |                    | The password to use for basic authentication.                                                                                                                                                                                                                                          |
+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| solr.username              | :ref:`configuration-string`   | High       |               |                    | The username to use for basic authentication.                                                                                                                                                                                                                                          |
+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| solr.queue.size            | :ref:`configuration-int`      | Medium     | 100           | [1,...,2147483647] | The number of documents to batch together before sending to Solr. See `ConcurrentUpdateSolrClient.Builder.withQueueSize(int) <https://lucene.apache.org/solr/6_3_0/solr-solrj/org/apache/solr/client/solrj/impl/ConcurrentUpdateSolrClient.Builder.html#withQueueSize-int->`_          |
+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| solr.thread.count          | :ref:`configuration-int`      | Medium     | 1             | [1,...,100]        | The number of threads used to empty ConcurrentUpdateSolrClients queue. See `ConcurrentUpdateSolrClient.Builder.withThreadCount(int) <https://lucene.apache.org/solr/6_3_0/solr-solrj/org/apache/solr/client/solrj/impl/ConcurrentUpdateSolrClient.Builder.html#withThreadCount-int->`_ |
+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| solr.commit.within         | :ref:`configuration-int`      | Low        | -1            |                    | Configures Solr UpdaterRequest for a commit within the requested number of milliseconds .                                                                                                                                                                                              |
+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| solr.ignore.unknown.fields | :ref:`configuration-boolean`  | Low        | false         |                    | Flag to determine if the connector should raise an exception when it encountered a field it doesn't have configured.                                                                                                                                                                   |
+----------------------------+-------------------------------+------------+---------------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

^^^^^^^^^^^^^^^^^^^^^^
Property based example
^^^^^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `standalone mode
<http://docs.confluent.io/current/connect/concepts.html#standalone-workers>`_.

.. code-block:: properties

    name=connector1
    tasks.max=1
    connector.class=com.github.jcustenborder.kafka.connect.solr.HttpSolrSinkConnector
    # The following values must be configured.
    solr.url=



^^^^^^^^^^^^^^^^^^
Rest based example
^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `distributed mode
<http://docs.confluent.io/current/connect/concepts.html#distributed-workers>`_.
Write the following json to `connector.json` and use the command below to post the configuration to the distributed connect workers.

.. code-block:: json

    {
        "name": "connector1",
        "config": {
            "connector.class": "com.github.jcustenborder.kafka.connect.solr.HttpSolrSinkConnector",
            "solr.url":"",
        }
    }

Use curl to post the configuration to one of the Kafka Connect Workers. Change `http://localhost:8083/` the the endpoint of
one of your Kafka Connect workers.

.. code-block:: bash

    curl -s -X POST -H 'Content-Type: application/json' --data @connector.json http://localhost:8083/connectors



