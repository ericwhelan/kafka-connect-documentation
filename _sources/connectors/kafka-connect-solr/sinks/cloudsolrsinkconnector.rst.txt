======================
CloudSolrSinkConnector
======================

This connector is used to connect to `SolrCloud <https://cwiki.apache.org/confluence/display/solr/SolrCloud>`_ using the Zookeeper based configuration.



-------------
Configuration
-------------

+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+
| solr.collection.name       | :ref:`configuration-string`   | High       |               |           | Name of the solr collection to write to.                                                                             |
+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+
| solr.zookeeper.hosts       | :ref:`configuration-list`     | High       |               |           | Zookeeper hosts that are used to store solr configuration.                                                           |
+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+
| solr.password              | :ref:`configuration-password` | High       | [hidden]      |           | The password to use for basic authentication.                                                                        |
+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+
| solr.username              | :ref:`configuration-string`   | High       |               |           | The username to use for basic authentication.                                                                        |
+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+
| solr.zookeeper.chroot      | :ref:`configuration-string`   | High       |               |           | Chroot within solr for the zookeeper configuration.                                                                  |
+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+
| solr.commit.within         | :ref:`configuration-int`      | Low        | -1            |           | Configures Solr UpdaterRequest for a commit within the requested number of milliseconds .                            |
+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+
| solr.ignore.unknown.fields | :ref:`configuration-boolean`  | Low        | false         |           | Flag to determine if the connector should raise an exception when it encountered a field it doesn't have configured. |
+----------------------------+-------------------------------+------------+---------------+-----------+----------------------------------------------------------------------------------------------------------------------+

^^^^^^^^^^^^^^^^^^^^^^
Property based example
^^^^^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `standalone mode
<http://docs.confluent.io/current/connect/concepts.html#standalone-workers>`_.

.. code-block:: properties

    name=connector1
    tasks.max=1
    connector.class=com.github.jcustenborder.kafka.connect.solr.CloudSolrSinkConnector
    # The following values must be configured.
    solr.collection.name=
    solr.zookeeper.hosts=



^^^^^^^^^^^^^^^^^^
Rest based example
^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `distributed mode
<http://docs.confluent.io/current/connect/concepts.html#distributed-workers>`_.
Write the following json to `connector.json` and use the command below to post the configuration to the distributed connect workers.

.. code-block:: json

    {
        "name": "connector1",
        "config": {
            "connector.class": "com.github.jcustenborder.kafka.connect.solr.CloudSolrSinkConnector",
            "solr.collection.name":"",
            "solr.zookeeper.hosts":"",
        }
    }

Use curl to post the configuration to one of the Kafka Connect Workers. Change `http://localhost:8083/` the the endpoint of
one of your Kafka Connect workers.

.. code-block:: bash

    curl -s -X POST -H 'Content-Type: application/json' --data @connector.json http://localhost:8083/connectors



