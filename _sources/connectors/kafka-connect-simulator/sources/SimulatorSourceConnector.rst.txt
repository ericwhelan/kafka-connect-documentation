========================
SimulatorSourceConnector
========================

.. image:: SimulatorSourceConnector.svg


The SimulatorSourceConnector is used to write data to a topic at the configured rate.



-------------
Configuration
-------------

.. csv-table:: Configuration
    :header: "Name", "Type", "Importance", "Default Value", "Validator", "Documentation"
    :widths: auto

    "key.schema.fields","List","High","","","Fields for the key schema."
    "topic","String","High","","","Kafka Topic to write to."
    "value.schema.fields","List","High","","","Fields for the value schema."
    "batch.size","Int","Medium","100","[1,...]","Number of records to be written per batch."
    "key.schema.name","String","Medium","com.github.jcustenborder.kafka.connect.simulator.PersonKey","","Name for the key schema."
    "rate.limit","Double","Medium","100.0","","Rate to write items to kafka."
    "value.schema.name","String","Medium","com.github.jcustenborder.kafka.connect.simulator.Person","","Name for the value schema."


^^^^^^^^^^^^^^^^^^^^^^
Property based example
^^^^^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `standalone mode
<http://docs.confluent.io/current/connect/concepts.html#standalone-workers>`_.

.. code-block:: properties

    name=connector1
    tasks.max=1
    connector.class=com.github.jcustenborder.kafka.connect.simulator.SimulatorSourceConnector
    # The following values must be configured.
    key.schema.fields=
    topic=
    value.schema.fields=
    batch.size=
    key.schema.name=
    rate.limit=
    value.schema.name=



^^^^^^^^^^^^^^^^^^
Rest based example
^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `distributed mode
<http://docs.confluent.io/current/connect/concepts.html#distributed-workers>`_.
Write the following json to `connector.json`, configure all of the required values, and use the command below to
post the configuration to one the distributed connect worker(s).

.. code-block:: json

    {
        "name": "connector1",
        "config": {
            "connector.class": "com.github.jcustenborder.kafka.connect.simulator.SimulatorSourceConnector",
            "key.schema.fields":"",
            "topic":"",
            "value.schema.fields":"",
            "batch.size":"",
            "key.schema.name":"",
            "rate.limit":"",
            "value.schema.name":"",
        }
    }

Use curl to post the configuration to one of the Kafka Connect Workers. Change `http://localhost:8083/` the the endpoint of
one of your Kafka Connect worker(s).

.. code-block:: bash

    curl -s -X POST -H 'Content-Type: application/json' --data @connector.json http://localhost:8083/connectors



